<?xml version="1.0" encoding="utf-8" ?>
<local:BasePages xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:CustomerApp.ViewModels"
             xmlns:local="clr-namespace:CustomerApp.Views"
             x:Class="CustomerApp.Views.ClienteRegistrationPage"
             BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource OffBlack}}">

    <Grid RowDefinitions="Auto,*,Auto">
        <Border Grid.Row="0" 
                BackgroundColor="{StaticResource Primary}" 
                Stroke="Transparent"
                StrokeThickness="0" 
                Padding="20,25,20,20">
            <Border.Shadow>
                <Shadow Brush="Black" Radius="8" Opacity="0.3" Offset="0,4" />
            </Border.Shadow>
            <StackLayout>
                <Label Text="BTG Pactual" 
                       FontSize="24" 
                       FontAttributes="Bold" 
                       TextColor="{StaticResource White}" 
                       HorizontalOptions="Center" />
                <Label Text="Cadastro de Cliente" 
                       FontSize="16" 
                       TextColor="{StaticResource White}" 
                       HorizontalOptions="Center" 
                       Opacity="0.9" />
            </StackLayout>
        </Border>

        <ScrollView Grid.Row="1" Padding="20,25,20,20">
            <StackLayout Spacing="25">
                <Border BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}"
                        Stroke="{StaticResource Gray200}"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 15"
                        Padding="20,15">
                    <Border.Shadow>
                        <Shadow Brush="Gray" Radius="5" Opacity="0.15" Offset="0,2" />
                    </Border.Shadow>
                    <StackLayout>
                        <Label Text="Informações Pessoais" 
                               FontSize="20" 
                               FontAttributes="Bold" 
                               TextColor="{StaticResource Primary}"
                               HorizontalOptions="Center" />
                        <Label Text="Preencha os dados do cliente" 
                               FontSize="14" 
                               TextColor="{StaticResource Gray600}"
                               HorizontalOptions="Center" />
                    </StackLayout>
                </Border>

                <Grid ColumnDefinitions="*,Auto,Auto" ColumnSpacing="20">
                    <Grid.Shadow>
                        <Shadow Brush="Gray" Radius="8" Opacity="0.2" Offset="0,-2" />
                    </Grid.Shadow>
                    <Button Grid.Column="1"
                            Text="Cancelar" 
                            Command="{Binding CancelCommand}" 
                            BackgroundColor="{StaticResource Transparent}"
                            TextColor="{StaticResource Gray400}"
                            FontSize="16"
                            FontAttributes="Bold"
                            WidthRequest="100"
                            HeightRequest="10" />

                    <Button Grid.Column="2"
                            Command="{Binding SaveClienteCommand}"
                            BackgroundColor="{StaticResource Transparent}"
                            TextColor="{StaticResource Green}"
                            ImageSource="salvar.png"
                            Text="Salvar"
                            FontSize="16"
                            FontAttributes="Bold"
                            HeightRequest="10"/>
                </Grid>

                <StackLayout Spacing="20">
                    <Border BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}"
                            Stroke="{StaticResource Gray200}"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="15">
                        <Border.Shadow>
                            <Shadow Brush="Gray" Radius="3" Opacity="0.1" Offset="0,1" />
                        </Border.Shadow>
                        <StackLayout Spacing="8">
                            <Label Text="Nome *" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Primary}" />
                            <Entry Text="{Binding ClienteModel.Name, Mode=TwoWay}" 
                                   Placeholder="Digite o nome do cliente"
                                   FontSize="16"
                                   PlaceholderColor="{StaticResource Gray400}"
                                   TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                                   BackgroundColor="Transparent" />
                            <Label Text="{Binding NameError}" TextColor="Red" FontSize="12" IsVisible="{Binding NameError, Converter={StaticResource StringNotEmptyConverter}}" />
                        </StackLayout>
                    </Border>

                    <Border BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}"
                            Stroke="{StaticResource Gray200}"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="15">
                        <Border.Shadow>
                            <Shadow Brush="Gray" Radius="3" Opacity="0.1" Offset="0,1" />
                        </Border.Shadow>
                        <StackLayout Spacing="8">
                            <Label Text="Sobrenome *" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Primary}" />
                            <Entry Text="{Binding ClienteModel.LastName, Mode=TwoWay}" 
                                   Placeholder="Digite o sobrenome do cliente"
                                   FontSize="16"
                                   PlaceholderColor="{StaticResource Gray400}"
                                   TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                                   BackgroundColor="Transparent" />
                            <Label Text="{Binding LastNameError}" TextColor="Red" FontSize="12" IsVisible="{Binding LastNameError, Converter={StaticResource StringNotEmptyConverter}}" />
                        </StackLayout>
                    </Border>

                    <Border BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}"
                            Stroke="{StaticResource Gray200}"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="15">
                        <Border.Shadow>
                            <Shadow Brush="Gray" Radius="3" Opacity="0.1" Offset="0,1" />
                        </Border.Shadow>
                        <StackLayout Spacing="8">
                            <Label Text="Idade *" 
                                   FontSize="16" 
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource Primary}" />
                            <Entry Text="{Binding ClienteModel.Age, Mode=TwoWay}" 
                                   Placeholder="Digite a idade"
                                   Keyboard="Numeric"
                                   FontSize="16"
                                   PlaceholderColor="{StaticResource Gray400}"
                                   TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                                   BackgroundColor="Transparent" />
                            <Label Text="{Binding AgeError}" TextColor="Red" FontSize="12" IsVisible="{Binding AgeError, Converter={StaticResource StringNotEmptyConverter}}" />
                        </StackLayout>
                    </Border>

                    <Border BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}"
                            Stroke="{StaticResource Gray200}"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="15">
                        <Border.Shadow>
                            <Shadow Brush="Gray" Radius="3" Opacity="0.1" Offset="0,1" />
                        </Border.Shadow>
                        <StackLayout Spacing="8">
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <Label Text="Endereço Completo" 
                                       FontSize="16" 
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource Primary}"
                                       VerticalOptions="Center" />
                            </StackLayout>
                            <Editor Text="{Binding ClienteModel.Address, Mode=TwoWay}" 
                                    Placeholder="Digite o endereço completo (rua, número, bairro, cidade, CEP)"
                                    HeightRequest="120"
                                    FontSize="16"
                                    PlaceholderColor="{StaticResource Gray400}"
                                    TextColor="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}"
                                    BackgroundColor="Transparent" />
                        </StackLayout>
                    </Border>
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </Grid>
</local:BasePages>